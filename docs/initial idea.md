общее описание идеи;
я хочу сделать текстовую игру, в которой можно будет исследовать разные миры, описываемые текстом.
то есть это будет чат, в котором Гейм-Мастер в роли которого выступает Gemini Pro, описывает где я сейчас, что тут есть, и куда могу отсюда отправится.

Я должел иметь возможность путешествовать по этому миру в произвольном направлении, если туда есть путь, а так же возвращаться обратно.

На начальном экране должен быть список существующих миров и кнопка сознания нового.
При создании нового мира нужно указать три поля, начальных установок: сеттинг, атмосфера и жанр, либо сгенерировать их случайным образом.

После этого игрок переходит в сохраненный мир или новый и начинает его исследовать, постепенно расширяя и детализируя по ходу исследования.

У каждого мира должны быть начальные установки: сеттинг, атмосфера и жанр, в зависимости от которых Гейм-мастер будет придумывать его.
Пример:
сеттинг: америка 30х, Нью-Йорк, чайна-таун,
жанр: нуар
атмосфера: мрачноватая безысходность, общий упадок, реализм
У игрока должно быть имя и описание персонажа, которые Гейм-мастер(в дальнейшем - ГМ) должен учитывать при описании мира, как будто он видит локацию глазами этого героя, и описывать ее от лица этого героя, учивая, насколько возможно, его глазами.

Описание всего мира должно храниться локально между сессиями, и в начале игры у игрока должна быть опция посетить уже известный(сохраненный) мир, или создать новый.

При создании мира создается его цетральная нода, к которой прикрепляется текстуальное описание мира на базе сеттинга, атмосферы и жанра, и заготовки (пустые структуры) нод-локаций куда можно попасть из нее

В процессе исследования мира можно открывать новые ноды-локации, если Гейм-Мастер решает, что это правдоподобно и проход туда возможен.

Пример игры:
начало мира. ГМ описывает центральную ноду: бар с описанием его атмосферы. Описывает возможность пройти на связанные ноды(пока одна): "улица у входа в бар"
игрок предлагает ГМ пройти через черный выход
ГМ, обдумавает это, не находит такой ноды, и создает новую ноду: "улица за черным ходом", ребро обратной связи с баром, и пока пустую ноду улица с каким-то названием, связывая ее с "улица за черным ходом"
игрок пишет, что возвращается в бар
ГМ читает последнее состояние ноды "бар" и имеющихся связей, и дает его игроку, добавляя, что из него теперь можно пройти на улицу и выйти через черный ход
игрок пишет ГМ, что хочет пройти на кухню
ГМ обдумывает правдоподобность существования "кухни" в "баре", исходя из сеттинга, стиля и жанра, и решает что это возможно, и создает ноду "кухня", и ребро обратной связи с "бар"
игрок пишет что хочет выйти из кухню на улицу
ГМ обдумавает это и предполагает, это непротиворечиво, оценивает, что выход из "кухни" вероятно ведет туда же, куда "черный ход", находит подходящую ноду "улица за черным ходом", добавляет ребро связи между кухней и "улицей за черным ходом", и перемещает игрока на ноду "улица за черным ходом", возвращая ее сохраненное текстовое описание, возможность вернуться в "черный ход", "кухню" или пойти на "улица за черным ходом"



Алгоритм происходящего примерно такой:
- Первый ход: текстовое сообщение от ГМ, который сообщает, что игрок попадает в мир, дает его текстовое описание и описание центральной локации, и описание путей, которые из нее видны.
- Ход игрока: он читает описание локации и пишет ГМ сообщение, куда он хочет переместится,
- Ход ГМ: ГМ обдумывает его сообщение, проверяя соотвествует ли его намерение тем путям, которые он заранее придумал для этой локации.
для этого ГМ смотрит в структуру данных мира( его граф):
     - если в этой локации игрок еще не был (нода пустая) - придумывает ее название и описание, следя за тем, чтобы оно было логичным, консистентными описанию мира, жанра, стиля, атмосферы и тем как должен видеть его игрок согласно описание его персонажа, и добавляет, если нужно в него логичные предметы. Затем он собирает это в текстуальное описание локации и прикрепляет его к ноде исследуемой локации
    - если игрок там уже был (нода заполена) - читает ранее сохраненно содержимое полей графа
Затем ГМ перемещает игрока в запрошенную ноду-локацию, (то есть у игрока всегда есть текущее местоположение соответствующее ID ноды, где он находится) и дает в чат описание локации и потенциальных выходов из нее, включая возможность вернуться в предыдущую
- Ход игрока: он читает описание текущей локации и вариантов пути и сообщает ГМ, куда он хочет отправиться
после
.. и так далее.

то есть после входа в центральную локацию у нас бесконечный цикл: описание от ГМ, ответ игрока, ГМ думает, дает следующее описание. Если игрок просит прекратить путешествие, ГМ закрывает цикл, и возвращает игрока в начальный экран со списком миров.

Таким образом каждый мир должен представлять собой следующее:
мир, как граф, в формате JSON, состоящий из связанных между собой нод-локаций. 

Каждая нода-локация содержит:
- ее текстуальное описание. Если игрок в этой локации еще не был, она создается на базе сеттинга, жанра и описания персонажа, а так же делается сразу одна или несколько еще пустых нод, куда предположительно можно из нее перейти, пока только с названием, без описания, и они связываются с текущей. Если игрок там уже был, ее описание и предметы, находящиеся там подгружаются из графа
- описание предметов, которые в ней находятся (каждый предмет - отдельный JSON), при этом предмет может быть перенесен между локациями и там оставлен до следующего визита, либо находиться в инвентаре у игрока (быть к нему прикреплен), то есть движок должен понимать что у игрока есть инвентарь, в который можно брать предметы, или выбрасывать их из него

у каждой ноды-локации должно быть уникальное ID для обработки графа и поле locatin_name, содержащее ее текстовое название, которое высвечивается в чате, когда игрок заходит в локацию, в виде "вы входите в локацию {locatin_name}" и дальше ее описание, описание предметов в ней и выходов из нее

Если есть дополнительные вопросы или уточнения - задай их